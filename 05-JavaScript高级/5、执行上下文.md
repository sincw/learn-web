# 执行上下文

执行全局代码时，会产生一个执行上下文环境，每次调用函数都又会产生执行上下文环境。当函数调用完成时，这个上下文环境以及其中的数据都会被消除，
再重新回到全局上下文环境。处于活动状态的执行上下文环境只有一个。

### 上下文的出入栈

```javascript
function foo() {
    var a = 0;
    return a;
}
foo();
```
当我们执行foo时，就会创建一个执行上下文入栈，将其设置为活动状态（活动状态的上下文只有一个），执行完毕之后出栈销毁。

![](imgs/1534685811(1).jpg)

下面是一个较为复杂出入栈过程

![](imgs/1534686011(1).jpg)

![](imgs/1534685937(1).jpg)

由上图可知，作用域只是一个“地盘”，一个抽象的概念，其中没有变量。要通过作用域对应的执行上下文环境来获取变量的值。
同一个作用域下，不同的调用会产生不同的执行上下文环境，继而产生不同的变量的值。所以，作用域中变量的值是在执行过程中产生的确定的，而作用域却是在函数创建时就确定了。



参考：https://www.cnblogs.com/wangfupeng1988/p/3991995.html
